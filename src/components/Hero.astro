---
import CTA from "./CTA.astro";
const { jumplink, img, alt, logo, video, title, showlogo, showcta } =
  Astro.props;
---

<section>
  <div class="flex">
    <div class="con">
      <img src={logo} class="logo hide" id={showlogo} alt="Cióió logo" />
      <h1>{title}</h1>
    </div>
    <div class="con hide" id={showcta}>
      <CTA text="shop now" state="variant" link="/shop" />
    </div>
  </div>
  <a href={jumplink} class="arrow">
    <img src="/assets/arrow.svg" class="arrow" alt="arrow pointing down" />
  </a>
  <img src={img} alt={alt} class="image" />
  <video autoplay loop muted>
    <source src={video} type="video/mp4" />
    Your browser does not support the video tag.
  </video>
</section>

<style>
  section {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100vh;
    overflow: hidden;
  }

  video {
    position: absolute;
    top: 0;
    left: 0;
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: -100;
  }
  .image {
    position: absolute;
    top: 0;
    left: 0;
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: -100;
  }

  .arrow {
    position: absolute;
    bottom: 20px;
    transition: opacity 1s ease-out;
    mix-blend-mode: difference;
    width: 50px;
    cursor: pointer;
  }
  .flex {
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
    width: 100%;
    gap: 4rem;
  }
  .logo {
    /*    mix-blend-mode: difference; */
    width: 60%;
    margin-inline: auto;
  }

  .fade {
    opacity: 0;
  }

  .hide {
    display: none;
  }

  #showlogo,
  #showcta {
    display: block;
  }
</style>

<script>
  window.addEventListener("scroll", function () {
    const arrow = document.querySelector(".arrow");
    if (arrow) {
      if (window.scrollY > 0) {
        arrow.classList.add("fade");
      } else {
        arrow.classList.remove("fade");
      }
    }
  });
</script>
